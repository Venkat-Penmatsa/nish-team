<div id="mobility" class="page-layout-container">
    <div class="row">
        <h1 class="title"> Update Employees Monthly Mobility </h1>
    </div>
    <div class="row">
        <div class="col-6" style="width: 80%;">
            <app-emp-name [filterEmpName]="filterEmpName" (empName)="empNameSelected($event)">
            </app-emp-name>
        </div>
        <div class="col">
            <mat-form-field>
                <input matInput [matDatepicker]="dp" placeholder="Select Year" [formControl]="yearSelected">
                <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
                <mat-datepicker #dp startView="multi-year" (yearSelected)="chosenYearHandler($event, dp)"
                    panelClass="example-month-picker">
                </mat-datepicker>
            </mat-form-field>
        </div>
    </div>

    <div *ngIf="message" class="alert alert-success">{{ messageDesc }}</div>
    <div *ngIf="error" class="alert alert-danger">{{ errorDesc }}</div>
    &nbsp;&nbsp;
    &nbsp;&nbsp;
    &nbsp;&nbsp;
    <div>
        <form [formGroup]="mobilityForm">
            <div class="row">
                <div class="col">
                    <section class="example-section">
                        <mat-checkbox #mobilityStatus [checked]="mobilityStatusChecked"
                            formControlName="isMobilityOpted" (change)="enableMobilitySection(mobilityStatus.checked)">
                            Mobility Opted *</mat-checkbox>
                    </section>
                </div>
                <div class="col" *ngIf="mobilitySecFlag">
                    <mat-form-field>
                        <mat-label>Mobility Start Date</mat-label>
                        <input matInput [matDatepicker]="mobilityStartDate" [matDatepickerFilter]="dateFilter"
                            formControlName="mobilityEffectiveDate">
                        <mat-datepicker-toggle matSuffix [for]="mobilityStartDate"></mat-datepicker-toggle>
                        <mat-datepicker #mobilityStartDate></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="col" *ngIf="mobilitySecFlag">
                    <mat-form-field class="field-style">
                        <mat-label>Applicable Mobility Budget*</mat-label>
                        <input matInput placeholder="In Euros" formControlName="applicableBudget">
                    </mat-form-field>
                </div>
                <div class="col" *ngIf="mobilitySecFlag">
                    <mat-form-field class="field-style">
                        <mat-label>Consumed Mobility Budget*</mat-label>
                        <input matInput placeholder="In Euros" formControlName="consumedBudget">
                    </mat-form-field>
                </div>
                <div class="col" *ngIf="mobilitySecFlag">
                    <mat-form-field class="field-style">
                        <mat-label>Available Mobility Budget*</mat-label>
                        <input matInput placeholder="In Euros" formControlName="availableBudget">
                    </mat-form-field>
                </div>
            </div>
        </form>
    </div>

    &nbsp;&nbsp;
    &nbsp;&nbsp;
    &nbsp;&nbsp;


    <div style="text-align: center">
        <button mat-button [disabled]="!mobilityForm.valid" (click)="onSubmit()" type="submit">Submit</button>
    </div>
</div>